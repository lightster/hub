/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

!function(e,t){"function"==typeof define&&define.amd?define([],t):e.lstrQuickSwitcher=t()}(this,function(){var e,t,s;!function(r){function i(e,t){return k.call(e,t)}function n(e,t){var s,r,i,n,c,l,o,a,h,u,d,f,p=t&&t.split("/"),m=g.map,v=m&&m["*"]||{};if(e){for(e=e.split("/"),c=e.length-1,g.nodeIdCompat&&C.test(e[c])&&(e[c]=e[c].replace(C,"")),"."===e[0].charAt(0)&&p&&(f=p.slice(0,p.length-1),e=f.concat(e)),h=0;h<e.length;h++)if(d=e[h],"."===d)e.splice(h,1),h-=1;else if(".."===d){if(0===h||1===h&&".."===e[2]||".."===e[h-1])continue;h>0&&(e.splice(h-1,2),h-=2)}e=e.join("/")}if((p||v)&&m){for(s=e.split("/"),h=s.length;h>0;h-=1){if(r=s.slice(0,h).join("/"),p)for(u=p.length;u>0;u-=1)if(i=m[p.slice(0,u).join("/")],i&&(i=i[r])){n=i,l=h;break}if(n)break;!o&&v&&v[r]&&(o=v[r],a=h)}!n&&o&&(n=o,l=a),n&&(s.splice(0,l,n),e=s.join("/"))}return e}function c(e,t){return function(){var s=y.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),p.apply(r,s.concat([e,t]))}}function l(e){return function(t){return n(t,e)}}function o(e){return function(t){w[e]=t}}function a(e){if(i(b,e)){var t=b[e];delete b[e],x[e]=!0,f.apply(r,t)}if(!i(w,e)&&!i(x,e))throw new Error("No "+e);return w[e]}function h(e){var t,s=e?e.indexOf("!"):-1;return s>-1&&(t=e.substring(0,s),e=e.substring(s+1,e.length)),[t,e]}function u(e){return e?h(e):[]}function d(e){return function(){return g&&g.config&&g.config[e]||{}}}var f,p,m,v,w={},b={},g={},x={},k=Object.prototype.hasOwnProperty,y=[].slice,C=/\.js$/;m=function(e,t){var s,r=h(e),i=r[0],c=t[1];return e=r[1],i&&(i=n(i,c),s=a(i)),i?e=s&&s.normalize?s.normalize(e,l(c)):n(e,c):(e=n(e,c),r=h(e),i=r[0],e=r[1],i&&(s=a(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:s}},v={require:function(e){return c(e)},exports:function(e){var t=w[e];return"undefined"!=typeof t?t:w[e]={}},module:function(e){return{id:e,uri:"",exports:w[e],config:d(e)}}},f=function(e,t,s,n){var l,h,d,f,p,g,k,y=[],C=typeof s;if(n=n||e,g=u(n),"undefined"===C||"function"===C){for(t=!t.length&&s.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(f=m(t[p],g),h=f.f,"require"===h)y[p]=v.require(e);else if("exports"===h)y[p]=v.exports(e),k=!0;else if("module"===h)l=y[p]=v.module(e);else if(i(w,h)||i(b,h)||i(x,h))y[p]=a(h);else{if(!f.p)throw new Error(e+" missing "+h);f.p.load(f.n,c(n,!0),o(h),{}),y[p]=w[h]}d=s?s.apply(w[e],y):void 0,e&&(l&&l.exports!==r&&l.exports!==w[e]?w[e]=l.exports:d===r&&k||(w[e]=d))}else e&&(w[e]=s)},e=t=p=function(e,t,s,i,n){if("string"==typeof e)return v[e]?v[e](t):a(m(e,u(t)).f);if(!e.splice){if(g=e,g.deps&&p(g.deps,g.callback),!t)return;t.splice?(e=t,t=s,s=null):e=r}return t=t||function(){},"function"==typeof s&&(s=i,i=n),i?f(r,e,t,s):setTimeout(function(){f(r,e,t,s)},4),p},p.config=function(e){return p(e)},e._defined=w,s=function(e,t,s){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(s=t,t=[]),i(w,e)||i(b,e)||(b[e]=[e,t,s])},s.amd={jQuery:!0}}(),s("../node_modules/almond/almond",function(){}),s("filters",[],function(){return{isFuzzyMatch:function(e,t){for(var s=0,r=0;s<e.length&&r<t.length;s++)for(;r<t.length&&(r++,e.charAt(s)!==t.charAt(r)););return r<t.length},areWordsFound:function(e,t){for(var s=e.split(/[^\w]/),r=0;r<s.length;r++)if(t.indexOf(s[r])===-1)return!1;return!0},isMatch:function(e,t){return t.indexOf(e)!==-1||!!this.areWordsFound(e,t)}}}),s("tracker/statistic",[],function(){var e=function(){return Math.floor((new Date).getTime()/1e3)},t={create:function(e){var s=Object.create(t);return s.init(e),s},init:function(e){return e?(this.timestamps=e.timestamps,void(this.count=e.count)):(this.timestamps=[],void(this.count=0))},increment:function(){for(this.timestamps.push(e()),++this.count;this.timestamps.length>10;)this.timestamps.shift()},score:function(){if(!this.timestamps.length)return 0;var t=e(),s=this.timestamps.reduce(function(e,s){return s>t-14400?e+100:s>t-86400?e+80:s>t-259200?e+60:s>t-25200?e+40:s>t-108e3?e+20:s>t-324e3?e+10:e},0);return this.count*s/this.timestamps.length}};return t}),s("tracker/selection",["tracker/statistic"],function(e){var t=function(e){return e.toLowerCase()};return{init:function(s){if(s){var r=this;return this.overall=e.create(s.overall),this.searchKeys={},void Object.keys(s.searchKeys).forEach(function(i){i=t(i);var n=e.create(s.searchKeys[i]);r.searchKeys[i]=n})}this.overall=e.create(),this.searchKeys={}},increment:function(s){this.overall.increment(),s&&(s=t(s),this.searchKeys[s]||(this.searchKeys[s]=e.create()),this.searchKeys[s].increment())},score:function(e){return e=t(e),e&&this.searchKeys[e]?this.searchKeys[e].score():.5*this.overall.score()}}}),s("tracker",["tracker/selection"],function(e){return{init:function(t){if(this.name=t,this.localStorageName="qswitcher-tracker-"+t,this.selections={},window.localStorage){var s=localStorage.getItem(this.localStorageName);if(s){this.selections=JSON.parse(s);var r=this;Object.keys(this.selections).forEach(function(t){var s=Object.create(e);s.init(r.selections[t]),r.selections[t]=s})}}},trackSelection:function(t,s){if(t.trackerId){var r=t.trackerId;this.selections[r]||(this.selections[r]=Object.create(e),this.selections[r].init()),this.selections[r].increment(s),this.save()}},sort:function(e,t){var s=this;return e.forEach(function(e,r){e._qswitcher={index:r,score:s.scoreSelection(e,t),sort:e.trackerStaticSort?e.trackerStaticSort:0}}),e.sort(function(e,t){return e._qswitcher.sort!=t._qswitcher.sort?e._qswitcher.sort<t._qswitcher.sort?-1:1:e._qswitcher.score==t._qswitcher.score?e._qswitcher.index<t._qswitcher.index?-1:1:e._qswitcher.score>t._qswitcher.score?-1:1}),e.forEach(function(e){delete e._qswitcher}),e},save:function(){window.localStorage&&localStorage.setItem(this.localStorageName,JSON.stringify(this.selections))},scoreSelection:function(e,t){var s=this.selections[e.trackerId];return"undefined"==typeof s?0:s.score(t)}}}),s("factories",["tracker"],function(e){var t={};return{tracker:function(s){if("undefined"!=typeof t[s])return t[s];var r=Object.create(e);return r.init(s),t[s]=r,t[s]}}}),s("selected-result",["factories"],function(e){return{init:function(e,t,s){this.selectedValue=e,this.searchText=t,this.domEvent=s},trackAs:function(t){e.tracker(t).trackSelection(this.selectedValue,this.searchText)}}}),s("sorters",["factories"],function(e){return{tracker:function(t){return e.tracker(t)}}}),s("text",["module"],function(e){"use strict";function s(e,t){return void 0===e||""===e?t:e}function r(e,t,r,i){if(t===i)return!0;if(e===r){if("http"===e)return s(t,"80")===s(i,"80");if("https"===e)return s(t,"443")===s(i,"443")}return!1}var i,n,c,l,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,f=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,m=d&&(location.port||void 0),v={},w=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(h,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:w.createXhr||function(){var e,t,s;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){s=a[t];try{e=new ActiveXObject(s)}catch(e){}if(e){a=[s];break}}return e},parseName:function(e){var t,s,r,i=!1,n=e.lastIndexOf("."),c=0===e.indexOf("./")||0===e.indexOf("../");return n!==-1&&(!c||n>1)?(t=e.substring(0,n),s=e.substring(n+1)):t=e,r=s||t,n=r.indexOf("!"),n!==-1&&(i="strip"===r.substring(n+1),r=r.substring(0,n),s?s=r:t=r),{moduleName:t,ext:s,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,s,n){var c,l,o,a=i.xdRegExp.exec(e);return!a||(c=a[2],l=a[3],l=l.split(":"),o=l[1],l=l[0],(!c||c===t)&&(!l||l.toLowerCase()===s.toLowerCase())&&(!o&&!l||r(c,o,t,n)))},finishLoad:function(e,t,s,r){s=t?i.strip(s):s,w.isBuild&&(v[e]=s),r(s)},load:function(e,t,s,r){if(r&&r.isBuild&&!r.inlineText)return void s();w.isBuild=r&&r.isBuild;var n=i.parseName(e),c=n.moduleName+(n.ext?"."+n.ext:""),l=t.toUrl(c),o=w.useXhr||i.useXhr;return 0===l.indexOf("empty:")?void s():void(!d||o(l,f,p,m)?i.get(l,function(t){i.finishLoad(e,n.strip,t,s)},function(e){s.error&&s.error(e)}):t([c],function(e){i.finishLoad(n.moduleName+"."+n.ext,n.strip,e,s)}))},write:function(e,t,s,r){if(v.hasOwnProperty(t)){var n=i.jsEscape(v[t]);s.asModule(e+"!"+t,"define(function () { return '"+n+"';});\n")}},writeFile:function(e,t,s,r,n){var c=i.parseName(t),l=c.ext?"."+c.ext:"",o=c.moduleName+l,a=s.toUrl(c.moduleName+l)+".js";i.load(o,s,function(t){var s=function(e){return r(a,e)};s.asModule=function(e,t){return r.asModule(e,a,t)},i.write(e,o,s,n)},n)}},"node"===w.env||!w.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=t.nodeRequire("fs"),i.get=function(e,t,s){try{var r=n.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(e){s&&s(e)}}):"xhr"===w.env||!w.env&&i.createXhr()?i.get=function(e,t,s,r){var n,c=i.createXhr();if(c.open("GET",e,!0),r)for(n in r)r.hasOwnProperty(n)&&c.setRequestHeader(n.toLowerCase(),r[n]);w.onXhr&&w.onXhr(c,e),c.onreadystatechange=function(r){var i,n;4===c.readyState&&(i=c.status||0,i>399&&i<600?(n=new Error(e+" HTTP status: "+i),n.xhr=c,s&&s(n)):t(c.responseText),w.onXhrComplete&&w.onXhrComplete(c,e))},c.send(null)}:"rhino"===w.env||!w.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var s,r,i="utf-8",n=new java.io.File(e),c=java.lang.System.getProperty("line.separator"),l=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),i)),o="";try{for(s=new java.lang.StringBuffer,r=l.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&s.append(r);null!==(r=l.readLine());)s.append(c),s.append(r);o=String(s.toString())}finally{l.close()}t(o)}:("xpconnect"===w.env||!w.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(c=Components.classes,l=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in c,i.get=function(e,t){var s,r,i,n={};o&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{s=c["@mozilla.org/network/file-input-stream;1"].createInstance(l.nsIFileInputStream),s.init(i,1,0,!1),r=c["@mozilla.org/intl/converter-input-stream;1"].createInstance(l.nsIConverterInputStream),r.init(s,"utf-8",s.available(),l.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(s.available(),n),r.close(),s.close(),t(n.value)}catch(e){throw new Error((i&&i.path||"")+": "+e)}}),i}),s("text!quick-switcher.html",[],function(){return'<div class="lstr-qswitcher-overlay">\n</div>\n<div class="lstr-qswitcher-container">\n  <form class="lstr-qswitcher-popup">\n    <div class="lstr-qswitcher-header">\n      <div class="lstr-qswitcher-breadcrumb">\n      </div>\n      <div class="lstr-qswitcher-help">\n        <ul>\n          <li><em>&#8597;</em> to navigate</li>\n          <li><em>&#8629;</em> to select</li>\n          <li><em>&#9003;</em> to clear</li>\n          <li><em>esc</em> to dismiss</li>\n        </ul>\n      </div>\n      <a href="#" class="lstr-qswitcher-close">&#x00d7;</a>\n    </div>\n    <div class="lstr-qswitcher-search-container"><input type="text" class="lstr-qswitcher-search form-control" /></div>\n    <div class="lstr-qswitcher-loading">Loading...</div>\n    <div class="lstr-qswitcher-no-terms"></div>\n    <div class="lstr-qswitcher-no-results">No results found</div>\n    <div class="lstr-qswitcher-oops-results">\n      Oops! Something went wrong while trying to load your results.\n    </div>\n    <div class="lstr-qswitcher-results"></div>\n  </form>\n</div>\n'});var r=function(e,t,s,r){var i=jQuery,n={filters:e,sorters:s},c=function(e){return"function"==typeof e?e():e},l={init:function(e,t){this.$parentDom=null,this.$liCollection=null,this.valueObjects=null,this.selectedIndex=null,this.$results=null,this.$noSearchTerms=null,this.$noResults=null,this.$loading=null,this.$breadcrumb=null,this.$search=null,this.searchText="",this.searchDelayTimeout=null,this.searchId=0,this.modifierKey="ctrlKey",navigator.platform.toLowerCase().indexOf("mac")!=-1&&(this.modifierKey="metaKey"),t=i.extend({searchCallback:function(){},selectCallback:function(){},selectChildSearchCallback:function(){},searchDelay:1e3,hotKey:"K"},t),this.hotKey=t.hotKey.toUpperCase(),this.setOptions({searchCallback:t.searchCallback,selectCallback:t.selectCallback,selectChildSearchCallback:t.selectChildSearchCallback,searchDelay:t.searchDelay}),this.initDomElement(e),this.callbackStack=[],this.abortSearchCallback=null},initDomElement:function(e){var t=this;this.$parentDom=e,this.$domElement=i(r),e.append(this.$domElement),this.$breadcrumb=this.$domElement.find(".lstr-qswitcher-breadcrumb"),this.$close=this.$domElement.find(".lstr-qswitcher-close"),this.$search=this.$domElement.find(".lstr-qswitcher-search"),this.$loading=this.$domElement.find(".lstr-qswitcher-loading"),this.$results=this.$domElement.find(".lstr-qswitcher-results"),this.$noSearchTerms=this.$domElement.find(".lstr-qswitcher-no-terms"),this.$noResults=this.$domElement.find(".lstr-qswitcher-no-results"),this.$oopsResults=this.$domElement.find(".lstr-qswitcher-oops-results");var s=this.$domElement;s.find(".lstr-qswitcher-popup").on("submit",function(e){e.preventDefault()}),e.find(".lstr-qswitcher-overlay").on("click",function(e){t.closeSwitcher(),e.preventDefault()}),e.on("keydown",function(e){var s=String.fromCharCode(e.which);e[t.modifierKey]&&s===t.hotKey&&(t.toggleSwitcher(),e.preventDefault())}),i("html").on("keydown",".lstr-qswitcher-noscroll",function(e){38===e.which?(t.selectIndex(t.selectedIndex-1),t.scrollToSelectedItem(),e.preventDefault()):40===e.which?(t.selectIndex(t.selectedIndex+1),t.scrollToSelectedItem(),e.preventDefault()):27===e.which?(t.toggleSwitcher(),e.preventDefault()):13===e.keyCode&&(t.triggerSelect(t.selectedIndex,e),e.preventDefault())}),this.$close.on("click",function(e){t.closeSwitcher()}),this.$search.on("keyup",function(e){var s=t.$search.val();t.searchDelayTimeout&&(clearTimeout(t.searchDelayTimeout),t.searchDelayTimeout=null),s!==t.searchText?t.searchDelayTimeout=setTimeout(function(){t.selectIndex(null),t.searchText=s,t.renderList()},t.searchDelay):8===e.which&&""===s&&(t.popCallback(),t.renderList())}),s.on("mouseover",".lstr-qswitcher-results li",function(){var e=i(this);t.selectIndex(e.data("lstr-qswitcher").index)}),s.on("touchstart",".lstr-qswitcher-results li",function(){var e=i(this);t.selectIndex(e.data("lstr-qswitcher").index),t.$search.blur()}),s.on("click",".lstr-qswitcher-results li",function(e){var s=i(this);t.triggerSelect(s.data("lstr-qswitcher").index,e)})},renderList:function(){this.abortSearchCallback&&(this.abortSearchCallback(),this.abortSearchCallback=null),this.renderBreadcrumb(),this.usePane(this.$loading);var e=Object.create(n);++this.searchId,e.setResults=this.setResults.bind(this,this.searchId),e.setError=this.setError.bind(this,this.searchId),this.abortSearchCallback=this.searchCallback(this.searchText,e)},setResults:function(e,t){if(e===this.searchId){var s=this;if(s.valueObjects=[],0==t.length)return this.$results.html(""),void this.usePane(this.searchText?this.$noResults:this.$noSearchTerms);var r=i("<ul>");t.forEach(function(e,t){var n=i("<li>"),c=i("<div>");if(r.append(n),n.append(c),s.setListText(c,e),e.description){var l=i('<span class="lstr-qswitcher-result-description"></span>');s.setListText(l,e.description),n.prepend(l)}n.data("lstr-qswitcher",{index:t}),c.addClass("lstr-qswitcher-result-container"),e.searchCallback&&n.addClass("lstr-qswitcher-result-category"),s.valueObjects[t]={index:t,value:e,$li:n}}),this.$results.html(r),this.usePane(this.$results),s.selectIndex(0),s.scrollToSelectedItem(),window.requestAnimationFrame&&window.requestAnimationFrame(function(){s.scrollToSelectedItem()})}},setError:function(e){e===this.searchId&&this.usePane(this.$oopsResults)},renderBreadcrumb:function(){if(0==this.callbackStack.length)return this.$domElement.removeClass("lstr-qswitcher-subsearch"),void this.$breadcrumb.html("");var e=i("<ul>");this.callbackStack.forEach(function(t,s){var r=i("<li>");r.text(t.text),e.append(r)}),this.$domElement.addClass("lstr-qswitcher-subsearch"),this.$breadcrumb.html(e)},setListText:function(e,t){return t.html?void e.html(c(t.html)):t.text?void e.html(c(t.text)):void e.text(t)},selectIndex:function(e){return null!==this.selectedIndex&&this.valueObjects[this.selectedIndex]&&this.valueObjects[this.selectedIndex].$li.removeClass("lstr-qswitcher-result-selected"),null===e||0===this.valueObjects.length?void(this.selectedIndex=null):(this.selectedIndex=e%this.valueObjects.length,this.selectedIndex<0&&(this.selectedIndex=this.valueObjects.length-1),void this.valueObjects[this.selectedIndex].$li.addClass("lstr-qswitcher-result-selected"))},scrollToSelectedItem:function(){var e=this.$results;if(!this.selectedIndex)return void e.scrollTop(0);var t=this.valueObjects[this.selectedIndex].$li,s=t.offset().top-t.parent().offset().top,r=s+t.outerHeight(!0),i=e.scrollTop(),n=i+e.outerHeight(!0);(r>n||s<i)&&e.scrollTop(s)},toggleSwitcher:function(){return this.$parentDom.hasClass("lstr-qswitcher-noscroll")?void this.closeSwitcher():this.openSwitcher()},openSwitcher:function(){this.useRootCallback(),this.$search.val(""),this.searchText="",this.renderList(),this.$parentDom.toggleClass("lstr-qswitcher-noscroll"),this.$search.focus()},closeSwitcher:function(){this.$parentDom.removeClass("lstr-qswitcher-noscroll")},triggerSelect:function(e,s){if(null!==e){var r=this.valueObjects[e].value,i=Object.create(t);if(i.init(r,this.searchText,s),r.searchCallback){if(!1===this.selectChildSearchCallback(i))return;return this.callbackStack.push({text:r.breadcrumbText,parent:this.options}),this.options=r,this.searchCallback=r.searchCallback,r.searchDelay&&(this.searchDelay=r.searchDelay),r.selectCallback&&(this.selectCallback=r.selectCallback),r.selectChildSearchCallback&&(this.selectChildSearchCallback=r.selectChildSearchCallback),this.valueObjects=[],this.selectIndex(null),this.$search.val(""),this.$search.focus(),this.searchText="",void this.renderList()}!1!==this.selectCallback(i)&&this.closeSwitcher()}},popCallback:function(){var e=this.callbackStack.pop();return!!e&&(this.setOptions(e.parent),!0)},useRootCallback:function(){for(;this.callbackStack.length>0;)this.popCallback()},usePane:function(e){this.$results.hide(),this.$noSearchTerms.hide(),this.$noResults.hide(),this.$oopsResults.hide(),this.$loading.hide(),e.show()},setOptions:function(e){this.options=e,this.searchCallback=e.searchCallback,this.searchDelay=e.searchDelay,this.selectCallback=e.selectCallback,this.selectChildSearchCallback=e.selectChildSearchCallback}},o=function(e){var t=i("body"),s=Object.create(l);return s.init(t,e),{open:s.openSwitcher.bind(s)}};return o};return s("quick-switcher",["filters","selected-result","sorters","text!quick-switcher.html"],r),t("quick-switcher")});
